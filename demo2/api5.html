<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>api5</title>
	<!-- <style>
		div{
			width: 300px;
			height: 200px;
			background-color: hotpink;
		}
	</style> -->
	<style>
		*{
			margin: 0;
			padding: 0;
		}
		input{
			margin-top: 20px;
		}
		div{
			margin-top: 30px;
			width: 200px;
			height: 100px;
			background-color: green;
			position: absolute;
			left: 20px;
		}
	</style>
</head>
<body>
	<!-- <textarea name="texta" id="" cols="30" rows="10">
		学习学习学习，学习使我快乐
	</textarea>
	<input type="button" value="请仔细阅读协议(5)" id="btn" disabled="disabled" />
	<script src="common.js"></script>
	<script>
		var time=5;
		var timeId=setInterval(function(){
			time--;
			my$("btn").value="请仔细阅读协议("+time+")";
			if(time<=0){
			clearInterval(timeId);
			my$("btn").value="同意";
			my$("btn").disabled=false;
			}
		},1000)
	</script> -->
	<!-- <div id="dv"></div>
	<input type="button" value="渐变" id="btn"/>
	<script src="common.js"></script>
	<script>
		my$("btn").onclick=function(){
			var opacity=10;
			var timeId=setInterval(function(){
				opacity--;
				if(opacity<=0){
					clearInterval(timeId);
				}
				my$("dv").style.opacity=opacity/10;
			},200);
		}
	</script> -->
	<input type="button" value="移动到400px" id="btn1"/>
	<input type="button" value="移动到800px" id="btn2"/>
	<div id="dv"></div>
	<script src="common.js"></script>
	<script>
		/*my$("btn1").onclick=function(){
			var timeId=setInterval(function(){
				var current=my$("dv").offsetLeft;
				var step=10;
				current+=step;
				if(current<=400){
					my$("dv").style.left=current+"px";
				}else{
					clearInterval(timeId);
				}
			},20);
		};
		my$("btn2").onclick=function(){
			var timeId=setInterval(function(){
				var current=my$("dv").offsetLeft;
				var step=10;
				current+=step;
				if(current<=800){
					my$("dv").style.left=current+"px";
				}else{
					clearInterval(timeId);
				}
			},20);
		}*/
		function animate(element,target){
			    clearInterval(element.timeId);
			    element.timeId=setInterval(function(){
				var current=element.offsetLeft;
				var step=10;
				step=current<target?step:-step;
				current+=step;
				if(Math.abs(target-current)>Math.abs(step)){
					element.style.left=current+"px";
				}else{
					clearInterval(element.timeId);
					element.style.left=target+"px";
				}
			},20);
		}
			my$("btn1").onclick=function(){
				animate(my$("dv"),400);
			};
			my$("btn2").onclick=function(){
				animate(my$("dv"),800);
			}
	</script>
</body>
</html>